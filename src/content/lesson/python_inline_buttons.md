---
title: "Встроенные кнопки в боте"
description: "Встроенные кнопки в ответах бота"
draft: true
slug: "cb51d0a8-8f1b-466c-a0d6-27ee83a7c65f"
order: 4
---

##### Вступление

Иногда у некоторых ботов, например @botfather, Можно увидеть сообщения с полупрозрачными кнопками, прикрепленными в конце
сообщения, при скроле они двигаются вместе с сообщением. Это встроенные кнопки. Выглядят они так:

// тут скрин с inline кнопками

Такие кнопки в Telegram используются в для нескольких целей, рассмотрим две самые простые: переход на какой-нибудь сайт и 
запрос обратного вызова(callback query). Запрос обратного вызова может быть обработан 

В коде для создания таких кнопок сначала создают некую клавиатуру(keyboard), как контейнер, и добавляют в нее кнопки.
Как в реально жизни, кнопки не сами по себе, а на клавиатуре. Вот как это выглядит в коде:

```python
from aiogram import types


@start_router.message(Command("start"))
async def start(message: types.Message):
    buttons = [
        [
            types.InlineKeyboardButton("Наш сайт", url="https://google.com"),
            types.InlineKeyboardButton("Наш инстаграм", url="https://instagram.com")
        ],
        [
            types.InlineKeyboardButton("Наш фейсбук", url="https://facebook.com"),
        ]
    ]
    keyboard = InlineKeyboardMarkup(inline_keyboard=buttons)
    await message.answer("Привет. Ниже ты можешь выбрать куда перейти", reply_markup=keyboard)
```

Для создания кнопок создается список, в который вложены другие списки, и уже в этих списках лежат наборы кнопок.
Вложенные списки - это горизонтальные ряды с кнопками, и можно регулировать колько кнопок в каждом ряду будет, 
а основной список - как контейнер. У нас в коде выше 2 ряда: верхний с двумя кнопками, а нижний
с одной. Это значит, что первые кнопки(сайт и инста) будут расположены рядом, а третья - чуть ниже них обоих.

// тут скрин с inline кнопками

###### Кнопки с запросом обратного вызова

Кроме ссылки, inline кнопки могут во многих случаях, например - обратный вызов(callback). Через такой запрос можно передать
информацию(data) о том, какая конкретно кнопка была нажата. Обработчик нажатия может отправить в ответ сообщение
или выполнить какое-то другое действие. 

В коде создать такую кнопку, которая будет делать запрос обратного вызова, не сложно:

```python
from aiogram import F, types

async def start(message: types.Message):
    buttons = [
        types.InlineKeyboardButton("Поперейти в магазин", callback_data="shop"),
    ]
    keyboard = InlineKeyboardMarkup(inline_keyboard=buttons)
    await message.answer("Привет. Ниже ты можешь выбрать куда перейти", reply_markup=keyboard)

```

Добавляем `callback_data` вместо url, в который передается строковое значение. Теперь напишем обработчик:

```python

@start_router.callback_query(F.data == "shop")
async def shop(callback: types.CallbackQuery):
    await callback.message.answer("Наже представлены категории товаров. Выберите что-нибудь.")
```

Тут уже сложнее. Во-первых, заметим, что декоратор выглядит иначе. 

